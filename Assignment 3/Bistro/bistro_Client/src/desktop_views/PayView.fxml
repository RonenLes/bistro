<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="800.0" prefWidth="1280.0" styleClass="surface"
            xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="desktop_views.PayViewController">

    <top>
        <HBox spacing="12.0" alignment="CENTER_LEFT" BorderPane.alignment="CENTER">
            <BorderPane.margin>
                <Insets top="14.0" right="14.0" bottom="10.0" left="14.0"/>
            </BorderPane.margin>
            <children>
                <VBox spacing="2.0">
                    <children>
                        <Label text="Pay bill" styleClass="h2"/>
                        <Label text="Enter your confirmation code to view your total and pay" styleClass="muted"/>
                    </children>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
            </children>
        </HBox>
    </top>

    <center>
        <VBox alignment="TOP_CENTER" spacing="18.0" BorderPane.alignment="CENTER">
            <BorderPane.margin>
                <Insets bottom="14.0" left="14.0" right="14.0" top="0.0"/>
            </BorderPane.margin>

            <!-- Top form: confirmation code + payment method + actions -->
            <VBox spacing="12.0" maxWidth="720.0">
                <children>
                    <HBox spacing="12.0" alignment="CENTER_LEFT">
                        <children>
                            <VBox spacing="6.0" alignment="CENTER_LEFT">
                                <children>
                                    <Label text="Confirmation code" styleClass="subtle"/>
                                    <TextField fx:id="confirmationCodeField"
                                               promptText="Enter confirmation code"
                                               prefWidth="220.0"/>
                                </children>
                            </VBox>

                            <VBox spacing="4.0" alignment="CENTER_LEFT">
                                <children>
                                    <Label text="Payment method" styleClass="subtle"/>
                                    <HBox spacing="8.0" alignment="CENTER_LEFT">
                                        <children>
                                            <RadioButton fx:id="cardRadio"
                                                         text="Card"
                                                         selected="true">
                                                <toggleGroup>
                                                    <ToggleGroup fx:id="paymentToggleGroup"/>
                                                </toggleGroup>
                                            </RadioButton>
                                            <RadioButton fx:id="cashRadio"
                                                         text="Cash"
                                                         toggleGroup="$paymentToggleGroup"/>
                                        </children>
                                    </HBox>
                                </children>
                            </VBox>

                            <Region HBox.hgrow="ALWAYS"/>

                            <VBox spacing="6.0" alignment="CENTER_LEFT">
                                <children>
                                    <Button fx:id="showBillButton"
                                            text="Show total"
                                            styleClass="ghost"
                                            onAction="#onShowBillClicked"
                                            prefWidth="120.0"/>
                                    <Button fx:id="payBillButton"
                                            text="Pay"
                                            styleClass="primary"
                                            onAction="#onPayBillClicked"
                                            prefWidth="120.0"/>
                                </children>
                            </VBox>
                        </children>
                    </HBox>

                    <Label fx:id="statusLabel" text="" styleClass="muted"/>
                </children>
            </VBox>

            <!-- Summary card (for now only totals) -->
            <VBox spacing="10.0" maxWidth="720.0" styleClass="card">
                <padding>
                    <Insets top="12.0" right="12.0" bottom="12.0" left="12.0"/>
                </padding>
                <children>
                    <Label text="Summary" styleClass="h3"/>

                    <HBox spacing="12.0" alignment="CENTER_LEFT">
                        <children>
                            <Label text="payment" styleClass="subtle"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label fx:id="paymentMethodValueLabel" text="-" styleClass="body"/>
                        </children>
                    </HBox>

                    <HBox spacing="12.0" alignment="CENTER_LEFT">
                        <children>
                            <Label text="total" styleClass="subtle"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label fx:id="baseTotalValueLabel" text="-" styleClass="body"/>
                        </children>
                    </HBox>

                    <HBox spacing="12.0" alignment="CENTER_LEFT">
                        <children>
                            <Label text="discount" styleClass="subtle"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label fx:id="discountValueLabel" text="-" styleClass="body"/>
                        </children>
                    </HBox>

                    <HBox spacing="12.0" alignment="CENTER_LEFT">
                        <children>
                            <Label text="to pay" styleClass="subtle"/>
                            <Region HBox.hgrow="ALWAYS"/>
                            <Label fx:id="totalToPayValueLabel" text="-" styleClass="h3"/>
                        </children>
                    </HBox>
                </children>
            </VBox>

            <!-- Placeholder for future detailed bill items -->
            <VBox fx:id="billPlaceholderContainer" spacing="6.0" maxWidth="720.0" styleClass="card">
                <padding>
                    <Insets top="12.0" right="12.0" bottom="12.0" left="12.0"/>
                </padding>
                <children>
                    <Label text="Bill items" styleClass="h3"/>
                    <Label text="items will be shown here in a later version" styleClass="muted"/>
                </children>
            </VBox>

        </VBox>
    </center>
</BorderPane>
